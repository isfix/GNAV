# GraphHopper Pre-Processed Graph

This folder should contain a **pre-processed GraphHopper graph**,
NOT a raw .osm.pbf file.

## Why Pre-Processed?

Processing raw OSM data on mobile devices:
- Causes OutOfMemory crashes (needs 2GB+ heap)
- Takes 10+ minutes on a flagship phone
- Drains battery completely

## How to Create the Graph

On a development machine with 8GB+ RAM:

```bash
# 1. Download OSM data for Central Java
curl -O https://download.geofabrik.de/asia/indonesia/java-latest.osm.pbf

# 2. Create config file (config.yml)
cat > config.yml << EOF
graphhopper:
  profiles:
    - name: hike
      vehicle: hike
      weighting: fastest
  graph.location: ./graph-cache
  datareader.file: java-latest.osm.pbf
  graph.elevation.provider: srtm
  graph.elevation.cache_dir: ./elevation-cache
EOF

# 3. Run GraphHopper to process
java -Xmx4g -jar graphhopper-web-8.0.jar import config.yml

# 4. Zip the output
cd graph-cache
zip -r ../central_java_gh.zip ./*

# 5. Copy to Flutter assets
cp ../central_java_gh.zip path/to/flutter/assets/graph_cache/
```

## Required Files in Zip

The zip must contain these files (generated by GraphHopper):
- `nodes`
- `edges`
- `geometry`
- `location_index`
- `properties`
- `ch_*` (optional, for faster routing)

## Coverage

This graph should cover:
- Mount Merbabu (-7.453, 110.448)
- Mount Merapi (-7.540, 110.445)
- Mount Sumbing (-7.384, 110.072)
- Mount Sindoro (-7.300, 109.992)
- Mount Lawu (-7.625, 111.192)
